name: &name "ClusterDiarizer"

num_workers: 0
sample_rate: 16000
batch_size: 32  # Уменьшен для снижения потребления памяти
device: cuda
verbose: True

diarizer:
  manifest_filepath: ""
  out_dir: ""
  oracle_vad: False
  collar: 0.25
  ignore_overlap: True

  vad:
    model_path: vad_multilingual_marblenet
    external_vad_manifest: null

    parameters:
      window_length_in_sec: 0.15
      shift_length_in_sec: 0.01
      smoothing: "median"
      overlap: 0.5
      onset: 0.1
      offset: 0.1
      pad_onset: 0.1
      pad_offset: 0
      min_duration_on: 0
      min_duration_off: 0.2
      filter_speech_first: True 

  speaker_embeddings:
    model_path: titanet_large
    parameters:
      window_length_in_sec: [1.5,1.25,1.0,0.75,0.5]
      shift_length_in_sec: [0.75,0.625,0.5,0.375,0.25]
      multiscale_weights: [1,1,1,1,1]
      save_embeddings: True
  
  clustering: 
    parameters:
      oracle_num_speakers: False
      max_num_speakers: 8
      enhanced_count_thres: 80
      max_rp_threshold: 0.25 
      sparse_search_volume: 30 
      maj_vote_spk_count: False 
      chunk_cluster_count: 50 
      embeddings_per_chunk: 5000  # Уменьшен для снижения потребления памяти
  
  msdd_model:
    model_path: null
  
  asr:
    model_path: null